# 見積書作成アプリ

スマートフォン向けの見積書作成アプリケーションです。Googleスプレッドシートと連携し、見積書を作成してGoogle Chatに送信できます。

## 機能

- 店舗選択（6店舗対応）
  - 前橋50号店
  - 伊勢崎韮塚店
  - 高崎棟高店
  - 足利緑町店
  - 新前橋店
  - 太田新田店
- Googleスプレッドシートからの項目データ取得
- カテゴリー別アイテム表示
- 見積書のリアルタイムプレビュー
- Google Chatへの自動送信

## ローカル開発セットアップ

### 1. プロジェクトのダウンロード

v0の画面右上の「...」メニューから「Download ZIP」を選択してプロジェクトをダウンロードしてください。

### 2. 依存関係のインストール

\`\`\`bash
# プロジェクトディレクトリに移動
cd estimate-app

# 依存関係をインストール
npm install
\`\`\`

### 3. 環境変数の設定

プロジェクトのルートディレクトリに `.env.local` ファイルを作成し、以下の内容を記述してください：

\`\`\`env
# Google Chat Webhook URL
GOOGLE_CHAT_WEBHOOK_URL=https://chat.googleapis.com/v1/spaces/AAAAZ6w-bSw/messages?key=AIzaSyDdI0hCZtE6vySjMm-WEfRq3CPzqKqqsHI&token=DajRGVHjUPJfnN77EMUcuLyMaZQUNUM4QqcHHi_9CGc
\`\`\`

### 4. Googleスプレッドシートの準備

このアプリは以下のスプレッドシートと連携しています：

- **シートID**: `1eynNDQX-qPSKog67kU9RXKUpomc906QqwAAGzx4Sm-k`
- **シート名**: `itemlist`

#### スプレッドシートの構造

| A列（カテゴリー） | B列（アイテム名） | C列（金額） |
|------------------|------------------|------------|
| カテゴリー1       | 商品名1          | 10000      |
| カテゴリー1       | 商品名2          | 15000      |
| カテゴリー2       | 商品名3          | 20000      |

#### 重要な注意事項

このアプリは**公開されたGoogleスプレッドシート**からデータを取得します。スプレッドシートの共有設定を以下のように設定してください：

1. Googleスプレッドシートを開く
2. 右上の「共有」ボタンをクリック
3. 「リンクを知っている全員」に変更
4. 権限を「閲覧者」に設定
5. 「完了」をクリック

**認証ファイル（.jsonファイル）は不要です** - このアプリは公開URLを使用してデータを取得します。

### 5. アプリの起動

\`\`\`bash
npm run dev
\`\`\`

ブラウザで `http://localhost:3000` を開いてアプリにアクセスできます。

### 6. スマートフォンでの確認

同じネットワーク上のスマートフォンからアクセスする場合：

\`\`\`bash
# ローカルIPアドレスを確認
# Mac/Linux
ifconfig | grep "inet "

# Windows
ipconfig
\`\`\`

スマートフォンのブラウザで `http://[あなたのIPアドレス]:3000` にアクセスしてください。

## 使い方

1. **店舗を選択** - 6つの店舗から1つを選択
2. **カテゴリーを選択** - スプレッドシートから取得したカテゴリーを選択
3. **アイテムを追加** - 表示されたアイテムの「追加」ボタンをクリック
4. **見積書を作成** - 「見積書を作成」ボタンをクリックしてプレビューを表示
5. **送信** - 「Google Chatに送信」ボタンでGoogle Chatに送信

## トラブルシューティング

### スプレッドシートのデータが取得できない

- スプレッドシートが公開されているか確認してください
- シート名が `itemlist` であることを確認してください
- A列、B列、C列にデータが正しく入力されているか確認してください

### Google Chatに送信できない

- `.env.local` ファイルに正しいWebhook URLが設定されているか確認してください
- Webhook URLが有効であることを確認してください

### スマートフォンで表示が崩れる

- ブラウザのキャッシュをクリアしてください
- 最新のブラウザを使用してください

## 技術スタック

- Next.js 16
- React 19
- TypeScript
- Tailwind CSS v4
- shadcn/ui

## デプロイ

Vercelにデプロイする場合：

1. v0の画面右上の「Publish」ボタンをクリック
2. または、GitHubにプッシュしてVercelと連携

環境変数 `GOOGLE_CHAT_WEBHOOK_URL` をVercelのプロジェクト設定で追加してください。
